<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Подтверждение заказа</title>
        <style>
            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
            .container { max-width: 600px; margin: 0 auto; padding: 20px; }
            .header { background: #4CAF50; color: white; padding: 10px 20px; text-align: center; }
            .order-info { background: #f9f9f9; padding: 15px; margin: 20px 0; }
            .items-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
            .items-table th, .items-table td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            .items-table th { background: #f2f2f2; }
            .total { font-size: 18px; font-weight: bold; text-align: right; }
            .footer { margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee; }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="header">
                <h1>Подтверждение заказа</h1>
            </div>

            <p>Уважаемый(ая) <span th:text="${customerName}">Имя</span>,</p>
            <p>Благодарим вас за заказ в нашем онлайн-магазине! Вот детали вашего заказа:</p>

            <div class="order-info">
                <p><strong>Номер заказа:</strong> <span th:text="${order.orderId}">ORD_123</span></p>
                <p><strong>Дата заказа:</strong> <span th:text="${order.formattedCreatedAt}">01.01.2024 12:00</span></p>
                <p><strong>Email:</strong> <span th:text="${order.customerEmail}">email@example.com</span></p>
                <p><strong>Телефон:</strong> <span th:text="${order.customerPhone}">+7 XXX XXX XX XX</span></p>
                <p><strong>Адрес доставки:</strong> <span th:text="${order.shippingAddress}">Адрес</span></p>
            </div>

            <h3>Состав заказа:</h3>
            <table class="items-table">
                <thead>
                    <tr>
                        <th>Товар</th>
                        <th>Кол-во</th>
                        <th>Цена</th>
                        <th>Сумма</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="item : ${order.items}">
                        <td th:text="${item.productName}">Товар</td>
                        <td th:text="${item.quantity}">1</td>
                        <td th:text="${item.price} + ' ₽'">1000 ₽</td>
                        <td th:text="${item.subtotal} + ' ₽'">1000 ₽</td>
                    </tr>
                </tbody>
            </table>

            <div class="total">
                Итого: <span th:text="${order.totalAmount}">0</span> ₽
            </div>

            <div class="footer">
                <p>С уважением,<br>Команда Карбюрай</p>
                <p><small>Это письмо сгенерировано автоматически. Пожалуйста, не отвечайте на него.</small></p>
            </div>
        </div>
    </body>
</html>